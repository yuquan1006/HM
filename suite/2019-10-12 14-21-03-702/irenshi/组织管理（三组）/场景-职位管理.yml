-   config:
        name: "\u573A\u666F-\u804C\u4F4D\u7BA1\u7406"
        request:
            base_url: https://www.ihr360.com
        variables:
        -   accountName: '17612163057'
        -   password: '111111'
        -   randomData: ${gen_random_string()}
-   test:
        extract:
        -   message: content.message
        -   redirectUrl: content.redirectUrl
        name: "\u5355\u63A5\u53E3-B\u7AEF\u767B\u5F55"
        request:
            json:
                accountName: $accountName
                loginType: PASSWORD
                mobilePrefix: CHINA
                password: $password
                target: ''
                verifyCode: null
            method: POST
            url: https://account.ihr360.com/ac/login
        validate:
        -   check: $message
            comparator: equals
            expected: "\u8BA4\u8BC1\u767B\u5F55\u6210\u529F"
        variables:
        -   accountName: '17612163057'
        -   password: '111111'
-   test:
        extract:
        -   cookie_token: req_headers.cookie
        name: "\u5355\u63A5\u53E3-B\u7AEF\u767B\u5F55\u6388\u6743"
        request:
            method: GET
            url: $redirectUrl
        validate:
        -   check: status_code
            comparator: equals
            expected: 200
-   test:
        extract:
        -   id2: content.content.1.id
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u83B7\u53D6"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
                commonPage:
                    page: 1
                    pageSize: 10
                companyPositionFuzzyQueryParam: {}
            method: POST
            url: /web/position/getPositionList.do
-   test:
        extract:
        -   parentId: content.children.0.children.0.id
        -   departmentId: content.children.1.departmentId
        -   departmentId3: content.children.0.children.0.departmentId
        -   departmentName: content.children.0.children.0.text
        name: "\u5355\u63A5\u53E3-\u83B7\u53D6\u7EC4\u7EC7\u67B6\u6784\u56FE"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            method: GET
            url: /web/organizationChart/getOrganizationTreeList.do
-   test:
        extract:
        -   companyId: content.companyId
        -   positionName: content.positionName
        -   id: content.id
        -   capacity: content.capacity
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u65B0\u589E"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
                appliedRange: CURRENT_DEPARTMENT_AND_CHILDREN
                capacity: '20'
                departmentId: $departmentId
                departmentName: $departmentName
                jobTitleId: null
                jobTitleName: null
                nodeName: CEO
                organizationChartNodeType: POSITION_GROUP
                positionGradeId: null
                positionGradeName: null
                positionName: CEO$randomData
            method: POST
            url: /web/position/addPosition.do
-   test:
        extract:
        -   check: content
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u7F16\u8F91"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
                appliedRange: CURRENT_DEPARTMENT_AND_CHILDREN
                capacity: $capacity
                companyId: $companyId
                departmentId: $departmentId
                departmentName: $departmentName
                id: $id
                jobTitleId: null
                jobTitleName: null
                positionGradeId: null
                positionGradeName: null
                positionName: $positionName
            method: POST
            url: /web/organizationChart/updateCompanyPosition.do
        validate:
        -   check: $check
            comparator: equals
            expected: true
-   test:
        extract:
        -   id2: content.content.1.id
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u83B7\u53D6"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
                commonPage:
                    page: 1
                    pageSize: 10
                companyPositionFuzzyQueryParam: {}
            method: POST
            url: /web/position/getPositionList.do
-   test:
        extract:
        -   check: content
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u5408\u5E76"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            method: GET
            params:
                sourcePositionId: $id
                targetPositionId: $id2
            url: /web/position/mergePosition.do
        validate:
        -   check: $check
            comparator: equals
            expected: true
-   test:
        extract:
        -   companyId: content.companyId
        -   positionName: content.positionName
        -   id: content.id
        -   capacity: content.capacity
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u65B0\u589E"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
                appliedRange: CURRENT_DEPARTMENT_AND_CHILDREN
                capacity: '20'
                departmentId: $departmentId
                departmentName: $departmentName
                jobTitleId: null
                jobTitleName: null
                nodeName: CEO
                organizationChartNodeType: POSITION_GROUP
                positionGradeId: null
                positionGradeName: null
                positionName: CEO$randomData
            method: POST
            url: /web/position/addPosition.do
-   test:
        extract:
        -   check: content.response
        name: "\u5355\u63A5\u53E3-\u3010\u804C\u4F4D\u7BA1\u7406\u3011\u5220\u9664"
        request:
            headers:
                X-XSRF-TOKEN: ${getHeadersToken($cookie_token)}
            json:
            - $id
            method: POST
            url: /web/position/deletePosition.do
        validate:
        -   check: $check
            comparator: equals
            expected: OK
